<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이벤트 흐름</title></head>
<body>
<p style="color:blue">이것은
	<span style="color:red" id="span">문장입니다.
	</span>
</p>
<form>
	<input type="text" name="s">
	<input type="button" value="테스트" id="button">
	<hr>
</form>
<div id="div" style="color:green"></div>
<script>
let div = document.querySelector("#div"); // 이벤트 메시지 출력 공간
let button = document.querySelector("#button");

// 이벤트를 받은놈은 body 객체고, 실제로 이벤트를 실행하는 놈은 html 객체임.


// body 객체에 캡쳐 리스너 등록
document.body.addEventListener("click", capture, true); // 켭쳐 단계(1)
// 마지막 단계가 true면 켑처를 잡음

// 타겟 객체에 버블 리스너 등록
button.addEventListener("click", bubble, false); // 버블 단계(2)
//  버튼도 버블링에서 잡음

// body 객체에 버블 리스너 등록
document.body.addEventListener("click", bubble, false); // 버블 단계(3)
// 얜 버블링에서 잡음

function capture(e) { // e는 이벤트 객체
	let obj = e.currentTarget; // 현재 이벤트를 받은  DOM 객체
	let target = e.target;
	let tagName = obj.tagName; // 태그 이름
	div.innerHTML += "<br>capture 단계 : " + tagName + " 태그 " + e.type + "이벤트" +
	obj + "target:" + target;
}  //  켑처에선 이놈을 실행


function bubble(e) { // e는 이벤트 객체
	let obj = e.currentTarget; // 현재 이벤트를 받은  DOM 객체
	let target = e.target;
	let tagName = obj.tagName; // 태그 이름
	div.innerHTML += "<br>bubble 단계 : " + tagName + " 태그 " + e.type + "이벤트" +
	obj + "target:" + target;
}   //  버블링에성 이놈을 실행

//  target은 실제 이벤트가 발생한 객체가 뭐냐 라는 것.

</script>
</body>
</html>
