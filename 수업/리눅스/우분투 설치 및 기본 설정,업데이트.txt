옛날엔 VMware가 빨랐지만,
이젠 하드웨어 성능의 발달로 버추얼박스도 충분히 빨라졌다고 하는데, 난 모르겠음..


설치.
https://www.virtualbox.org/wiki/Downloads

VirtualBox 6.1.26 platform packages
 Windows hosts  (https://download.virtualbox.org/virtualbox/6.1.26/VirtualBox-6.1.26-145957-Win.exe)


2.
VirtualBox 6.1.26 Oracle VM VirtualBox Extension Pack
 All supported platforms
(https://download.virtualbox.org/virtualbox/6.1.26/Oracle_VM_VirtualBox_Extension_Pack-6.1.26.vbox-extpack)


3.
2번에서 받은 확장을 등록
파일 -> 환경 설정 -> (왼쪽의)확장 -> 2번에서 받은거 추가하고 확인
(하면 설치됨)

(아마 이게 있어야 나중에 이미지 빼내서 다른 pc에 넣을때 잘 작동하는듯)


4. Ubuntu LTS Desktop 버전 다운
Ubuntu 20.04.3 LTS
https://ubuntu.com/download/desktop/thank-you?version=20.04.3&architecture=amd64


5. 다 받았으면
새로 만들기(N)
이름: GIL,
머신 폴더: D:\GIL_1_sub\VBox
종류: Linux
버전: Ubuntu (64-bit)

메모리 크기 : 8192
(자기 렘 절반 크기 : 8GB)

하드 만들기는 그냥 통과(2,3번) = vdi, 동적 할당


파일 위치 및 크기
D:\GIL_1_sub\VBox\GIL\GIL.vdi

여유가 없으면 30GB  (하둡 쓰려면 최소 30기가 필요)
여유 있으면 50GB
(난 50GB 함)

이걸로 완료.

0.
아까 받은 Ubuntu.iso 파일 넣고 실행 -> 설치 시작

언어; 한국어

키보드
: 건들거 없이 Enter
(전에 여기서 위에걸로 바꿨던거 같은데...)


업데이트 및 기타 소프드웨어
(여기서 확인칸이 안보이니까)
[(취소, 돌아가기, 확인) 버튼 순.  맨 아래칸에서 텝 3번하고 엔터]


어디에 거주? -> 서울 -> 엔터
(여기선 텝 2번.  3번 하면 안됨) 그리고 엔터

이름 적고, Tab1번 Enter
그러면 설치됨

(이름은 GIL로 해도, 실제 이름은 소문자 gil로 알아서 바뀜)
gil
1


[처음부터 English로 설치하면 버튼이 잘 보임]
[그러니 영어로 설치 -> 한글로 변경]
[으로 작업 가능]



설치 완료됐으면 -> CD 빼고 시작
할 필요 없는듯. 보니까 CD 빼져있음. 걍 시작하면 될듯


켜졌으면, 기본설정으로 다 넘기고(중간에 정보 보내기는 안하는걸로 바꾸고) 완료.

업데이트는 지금 안함. 나중에 함




-------------------------
사전작업 해야할것

1.
터미널 실행
sudo apt update
-> 하면 목록갱신을 해줌


2. 
최신 목록을 
최신 버전으로 버전업
sudo apt upgrade

[위 2 작업은 1,2달에 한번씩 해줘야 함]



=========
일단 3가지 설치할 것.

1. 
sudo apt install gcc
(GNU C Compiler 설치할 것)

2.
C++ 컴파일러 설치  ->  ?  -> g++ 컴파일러인데?  설명 제대로 한거 맞음?
sudo apt install g++


3.
sudo apt install make
make가 뭔진 나중에 설명, 일단 설치


[4]?
다 설치했으면 가상머신 메뉴에서
장치 -> 게스트 확장 CD 이미지 삽입 -> 누르고 설치
이거 설치하기 위해 위의 1,2,3 설치 미치 한 것



설치 다 했으면 power off로 전원 끄고
VM관리자에서 
저장소 우클릭 -> CD 제거



[][][][][][][][][][][][][][][][][][][][]

키보드 한글 방법

설정 -> 지역 및 언어 -> 한국어 (Hangul)

101/111인가 뭔가는 안쓰니까 지워버려도 됨
안지웠을 경우는 우측 상단에 언어버튼 클릭후 -> 한국어로 설정


터미널에서
Shift + Space로   한/영 변경 가능


[][][][][][][][][][][][][][][][][][][][]





ssh 서버 설치 확인

sudo apt install openssh-server

설치가 안되어있다는 소리
y -> 설치


sudo systemctl status ssh

(vi 로 돼서 -> q로 나갈 수 있음)


cd /etc
cd ssh

ssh 열기
vi ssh


sudo vi sshd_config

Port 22
PubkeyAuthen~~ yes
PasswordAuthentication  yes

이렇게 3개 수정하고 저장, 나가기

sudo systemctl restart ssh


이렇게 ssh 설정 끝


이걸 접속하려면 방화벽에 등록해줘야함
sudo ufw allow ssh
(ssh서비스를 방화벽이 외부에서 접속할 수 있게 해줌)


- 이제 테스트 해줄것
ifconfig -> 안됨

sudo apt install net-tools

ifconfig -> inet 10.0.2.15  -> 가상머신의 가상의 ip

포트포워딩 해야함

VBox관리자 설정 -> 네트워크 -> 고급 -> 포트포워딩
-> 오른쪽에 + -> 이름 Ubuntu ssh (난 GIL ssh 로 함)  -> 호스트 ip 127.0.0.1 (자기 자신을 뜻함)
 -> 포트 충돌나면 안되니까 2200으로 함.
-> 윈도우에서 2200번 포트로 들어오면 -> 10.0.2.15로 게스트 ip를, -> 22번 포트로 대신 접속해줘라 하는 것



윈도우 자체 ssh 내장되어있음
터미널 실행

(ssh lastcoder@localhost -p 2200)
ssh gil@localhost -p 2200
그리고 yes  (처음 접속, 신뢰하냐? 라는 뜻)
pw: 1

이러면 접속 됨


--------------------------

작업폴더 만듬
/home(=gil) 에서
mkdir work

일반적으로 외장 ~~를 붙일 땐
/mnt 에 붙임


[윈도우에서 공유폴더 만듬]
D:\GIL_1_sub\Linux-share

마운트 설정
vbox 관리 -> 설정 -> 우측, 공유 폴더 -> 오른쪽 +(=공유 추가)
-> 폴더 경로 : 위의 윈도우 폴더 => D:\GIL_1_sub\Linux-share
[아래 자동 마운트(A)에 체크 선택]
-> 마운트 지점: /mnt/share
[확인] 버튼으로 완료
(windows 내에서의 폴더 이름과 ubuntu에서의 폴더 이름이 같을 필요는 전혀 없다)

완료했으면 우분투 재시작
-> reboot

윈도우 터미널 접속종료됐으니 다시 접속
ssh gil@localhost -p 2200
1

cd /mnt
ls -l
(여기서 share 폴더 확인 가능)
근데 cd share하면 허가 거부로 접속 안됨


sudo usermod -G vboxsf -a gil
vboxsf 계정을 append 해주겠다, 내 게정(gil)에
1

append 해줬으면 한번 더 reboot
sudo reboot

로그인하고
cd /mnt/share
하면 들어가짐

()()()()()
(설정에서 항상 사용 해주면 항상 설정 되어있음)

(허가 거부일때)
[gil@~]cd /mnt/share
-bash: cd: /mnt/share: 허가 거부
[gil@~]sudo chmod 775 /mnt/share/


cd /mnt/share로 이동
해야하는데,  마운트 자동으로 하니까
/media/sf머시기 폴더에 마운트됨

[gil@~]cd /media/sf_Linux-share/
[gil@sf_Linux-share]ls
 protobuf-2.5.0.tar.gz  'test(hadoop_setting_original=before_fix).xml'   test.xml

()()()()()

(마운트 위치를 /mnt/share 로 하니까 허가 거부 안뜬다고 함)

()()()()()()

sudo usermod -G vboxsf -a 계정
(이거 해야지 공유폴더 접근 가능하다는데)

()()()()

===========================
window와 ubuntu의 공유폴더 생성 완성
===========================

윈도우에서
업로드한 파일
test.xml
다운 받고

D:\GIL_1_sub\Linux-share
로 이동

터미널에서
ls -l 하면 보임

mv test.xml ~/work
로 이동

ubuntu에서
cd work
sudo vi test.xml


:g/(Ctrl누른 상태에서vm)/s//g
(  :g/^M/s//g  )  <- 이렇게 됨
엔터

저장하고 나옴
:wq

(우분투 역할은 다함)


-----------------